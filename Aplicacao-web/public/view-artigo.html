<!DOCTYPE html>
<html lang="PT-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Ponte Literária | Página Inicial</title>

    <script src="./js/sessao.js"></script>

    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/modal.css">
    <link rel="stylesheet" href="./css/postagem.css">
    <link rel="stylesheet" href="./css/viewArtigo.css">
    <link rel="stylesheet" href="./css/navbar.css">
    <link rel="icon" href="./assets/icon/favicon2.ico">
    <link rel="preconnect" href="https://fonts.gstatic.com">
</head>

<body onload="obterPostagem(capturarIdPostagem()), obterComentarioGeral(capturarIdPostagem())">

    <header style="z-index: 3;">
      <div class="container">
        <img class="logotipo" src="./assets/imgs/logotipo-pl.png" alt="">
        <div  class="barra-pesquisa">
            <span>
                <img src="./assets/icon/lupa.png" alt="">
            </span>
            <input type="text" placeholder="Pesquise Aqui...">
          </div>
        <div class="boxLogin">
          <a>Entrar</a>
          <span>|</span>
          <a>Cadastre-se</a>
        </div>
      </div>
    </header>
    

    <div class="sideBar" style="z-index: 2;">
        <ul>
            <div class="topico-pagina">
                <img src="./assets/icon/home.png" alt="">
                <span>
                    <a href="./feed.html">
                        Página Inicial 
                    </a>
                </span>
                
            </div>
            <div class="topico-pagina">
                <img src="./assets/icon/projeto.png" alt="">
                <span>
                    <a href="./index.html">
                        Projeto
                    </a>
                </span>
            </div>
            <div class="topico-pagina">
                <img src="./assets/icon/usuario.png" alt="">
                <span>
                    <a href="./perfil.html">
                        Perfil
                    </a>
                </span>
            </div>
                       

         
            <div class="topico-pagina">
                <img src="./assets/icon/logout.png" alt="">
                
                    <a href="./index.html">
                        Sair
                    </a>
                
            </div>
        </ul>
    </div>

    <!-- corpo do feed -->

    <section class="sessaoArtigo">
        <a onclick="voltarPagina()" style="position: fixed; left: 15rem; top: 8rem; padding: 1rem;">
            <img src="./assets/icon/voltar.png" style="height: 2.5rem;" alt="">
        </a>
        <div class="container" >
            <div id="visualizacaoArtigo"></div>
            <form action="" class="boxComentario">

                <textarea name="comentario" id="textarea_comentario" placeholder="Digite um Comentario..." rows="8" cols="5"></textarea>
                <button type="button" onclick="criarComentario(capturarIdPostagem(), sessionStorage.ID_USUARIO)">
                    <img src="./assets/icon/enviarMsg.png" alt="">
                </button>
            </form>

            <div id="containerComentario">

                
            </div>
            </div>
        </section>
        <div class="espacoModal">

        </div>
  </body>

<script>
    function abrirResposta(elementoClicado){
        var elementoPai =  elementoClicado.parentNode

        var container =  elementoPai.querySelector('.containerParaRespnder')

        container.innerHTML = `<div id="respostaComentario">
                    <input type="text" placeholder="Responda o comentario">
                    <div>
                        <button onclick="fecharResposta()" class="btnRespostaComentario">Cancelar</button>
                        <button>Responder</button>
                    </div>
                </div>`

        
        // respostaComentario.style.display = 'flex'
    }
    function fecharResposta() {
        respostaComentario.style.display = 'none'

    }
</script>

<script>
    function capturarIdPostagem(){
        const params = new URLSearchParams(window.location.search);
        
        return params.get('id')
    }
    console.log(capturarIdPostagem())
</script>
<script src="./js/artigo.js"></script>
<script src="./js/navegacaoPagina.js"></script>
<script src="./js/interacao.js"></script>
<script src="./js/navegacaoPagina.js"></script>
<script src="./js/modal.js"></script>
</html>