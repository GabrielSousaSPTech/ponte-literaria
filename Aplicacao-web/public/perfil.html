<!DOCTYPE html>
<html lang="PT-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Ponte Literária | Página Inicial</title>

    <script src="./js/sessao.js"></script>

    <link rel="stylesheet" href="./css/perfil.css">
    <link rel="stylesheet" href="./css/feed.css">
    <link rel="stylesheet" href="./css/postagem.css">
    <link rel="stylesheet" href="./css/navbar.css">
    <link rel="stylesheet" href="./css/navbar.css">
    <link rel="stylesheet" href="./css/modal.css">

    <link rel="icon" href="./assets/icon/favicon2.ico">
    <link rel="preconnect" href="https://fonts.gstatic.com">
</head>

<script defer>
  function capturarIdPostagem(){
        const params = new URLSearchParams(window.location.search);
        
        return params.get('id')
    }

    function myPerfil(id){
      if(sessionStorage.ID_USUARIO == id){
        document.getElementById(`getSeguir`).style.display = 'none'
      }else {

        document.getElementById(`configPerfil`).style.display = 'none'
        document.getElementById(`getAnalytics`).style.display = 'none'
      }
    }

    const idUsuario = capturarIdPostagem()
    
</script>

<body onload="validarSessao(); getUsuario(sessionStorage.ID_USUARIO == idUsuario ? sessionStorage.ID_USUARIO : idUsuario); obterPostagemPerfil(sessionStorage.ID_USUARIO == idUsuario ? sessionStorage.ID_USUARIO : idUsuario);
      obterSeguidores(sessionStorage.ID_USUARIO == idUsuario ? sessionStorage.ID_USUARIO : idUsuario);
      verificarSeguidor(idUsuario, sessionStorage.ID_USUARIO);myPerfil(idUsuario)">
    <a href="./criacao-artigo.html" style="position: fixed; right: 0; bottom: 0; padding: 1rem;">
      <img src="./assets/icon/adicionar.png" style="height: 3.5rem;" alt="">
  </a>
    <header style="z-index: 1;">
      <a href="./feed.html">
        <img src="./assets/icon/home.png" style="height: 2.5rem; margin: 2rem;" alt="">
    </a>
      <div class="container">
        <div class="containerInformacoesPerfil">
          
          <span id="quantidadeSeguidores"></span><span> Seguidor</span>
          <span id="quantidadeSeguindo"></span><span> Seguindo</span>
        </div>
        <div class="sessaoInformacaoUsuario">
          <div style="position: relative;">
            <img class="imgPerfil" src="./assets/imgs/usuarioTeste.jpg" alt="">
            <div class="containerIconCamera">
              <label for="input_foto"><img class="" src="./assets/icon/camera.png" alt=""></label>
              <input id="input_foto" type="file" src="" alt="" style="display: none;">
            </div>
          </div>
          <div class="nickname">
            <div style="display: flex; gap: 5%; justify-content: center; align-items: center;">
              <span id="nomeUsuario">Gabriel da Silva Sousa</span>
              <img id="configPerfil" style="height: 1.2rem;" src="./assets/icon/config.png" alt="">
            </div>
            <span id="username">@gabrielSousa</span>
          </div>
        </div>
        
            <button id="getSeguir" class="botaoSeguir " onclick="seguirUsuario(idUsuario, sessionStorage.ID_USUARIO)">Seguir</button>
            
              
                
              
              <button id="getAnalytics" class="botaoSeguir ">Analytics</button>
            
        
        <div class="containerInformacoesPerfil">
            <span id="quantidadeCurtidas"></span><span> Curtida</span>
            
              <span id="quantidadePublicacoes"></span><span> Publicação</span>
           
          
        </div>

      </div>
    </header>
    <div class="sideBar" style="z-index: 2;">
      <img class="logotipo" src="./assets/imgs/logotipo-pl.png" alt="">
      <ul>
          <div class="topico-pagina">
              <img src="./assets/icon/home.png" alt="">
              <span>
                  <a href="./feed.html">
                      Página Inicial 
                  </a>
              </span>
              
          </div>
          <div class="topico-pagina">
              <img src="./assets/icon/projeto.png" alt="">
              <span>
                  <a href="./index.html">
                      Projeto
                  </a>
              </span>
          </div>
          <div class="topico-pagina">
              <img src="./assets/icon/usuario.png" alt="">
              <span>
                  <a href="./perfil.html">
                      Perfil
                  </a>
              </span>
          </div>
        
        <div class="topico-pagina">
            <img src="./assets/icon/logout.png" alt="">
            
            <a onclick="limparSessao()">
                Sair
            </a>
            
        </div>
    </ul>
    </div>
    <section class="sessaoFeed" id="sessaoPerfil">
      <div class="container" id="postagemPerfil" >
          
          
      </div>
  </section>

<div class="espacoModal">

</div>

  </body>
<script>
    


</script>
<script src="./js/modal.js"></script>
<script src="./js/sessao.js"></script>
<script src="./js/postagem.js"></script>
<script src="./js/artigo.js"></script>
<script src="./js/interacao.js"></script>
<script src="./js/seguidor.js"></script>
<script src="./js/usuario.js"></script>
</html>