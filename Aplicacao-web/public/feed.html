<!DOCTYPE html>
<html lang="PT-BR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Ponte Literária | Página Inicial</title>

    <script src="./js/sessao.js"></script>

    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/feed.css">
    <link rel="stylesheet" href="./css/modal.css">
    <link rel="stylesheet" href="./css/navbar.css">
    <link rel="stylesheet" href="./css/postagem.css">
    <link rel="icon" href="./assets/icon/favicon2.ico">
    <link rel="preconnect" href="https://fonts.gstatic.com">
</head>



<body onload="validarSessao()">
    <a href="./criacao-artigo.html" style="position: fixed; right: 0; bottom: 0; padding: 1rem;">
        <img src="./assets/icon/adicionar.png" style="height: 3.5rem;" alt="">
    </a>
    <header id="div_navbar_pesquisa" style="z-index: 2;">
        <div class="container">
            <div style="display: flex; flex-direction: column;">
                <div  class="barra-pesquisa">
                    <span>
                        <img src="./assets/icon/lupa.png" alt="">
                    </span>
                    <input id="input_pesquisa" type="text" placeholder="Conecte-se com leitores incríveis." onkeyup="search()">
                </div>
                <div id="containerResultadopesquisa"></div>
            </div>
              <div class="boxLogin" onclick="abrirPerfil(sessionStorage.ID_USUARIO)">
                <img id="fotoUsuarioLogado">
                <a id="usernameUsuarioLogado"></a>
            </div>
          </div>
    </header>
    
    <div class="sideBar" id="div_sidebar">
        <img class="logotipo" src="./assets/imgs/logotipo-pl.png" alt="">
    <ul class="corpoSidebar">
      <a href="./feed.html">
      <div class="topico-pagina">
      <img src="./assets/icon/home.png" alt="">
      <span>
      Página Inicial</span>
      </span>
      </a>
      </div>

      <a href="./index.html">
      <div class="topico-pagina">
      <img src="./assets/icon/projeto.png" alt="">
      <span>
      Projeto</span>
      </span>
      </div>
      </a>
      <div class="topico-pagina" onclick="abrirPerfil(sessionStorage.ID_USUARIO)">
      <img src="./assets/icon/usuario.png" alt="">
      <span >Perfil</span>
      </div>
      </span>
      
      <a href="./dashboard.html">
      <div class="topico-pagina">
      <img src="./assets/icon/analytics.png" alt="">
      <span>
      Analytics
      </span>
      </div>
      </a>
      
      
      <a onclick="limparSessao()">
      <div class="topico-pagina">
      <img src="./assets/icon/logout.png" alt="">
      <span>Sair</span>
      </div>
      </a>
   </ul>
    </div>
    
    <!-- corpo do feed -->
    
    
    <section class="sessaoFeed">
        <div class="container" >
            <div class="groupFeed">
                <div class="groupButton">
                    <button id="btnSeguindo" class="buttonFeed buttonFeedClicado"  onclick="obterFeedSeguindo(sessionStorage.ID_USUARIO), aparecerCategoria(false), selecionarFeed('seguindo')">Seguindo</button>
                    <button id="btnCategoria" class="buttonFeed" onclick="aparecerCategoria(true), selecionarFeed('categoria')">Categorias</button>
                </div>
                <div style="position: relative;">
                    <input type="text" placeholder="Qual categoria você quer ver?" id="input_categoria" style="display: none;"  onkeyup="searchCategoria()">
                    <div id="containerRespostaCategoria"></div>
                </div>
            </div>
            <div id="postagemFeed">

            </div>
        </div>
    </section>

    <div class="espacoModal"></div>
    <div class="modalAviso">
    </div>
    
  </body>
  <script src="./js/sessao.js"></script>
  <script src="./js/feed.js"></script>
  <script src="./js/postagem.js"></script>
  <script src="./js/interacao.js"></script>
  <script src="./js/search.js"></script>
  <script src="./js/modal.js"></script>
  <script src="./js/navegacaoPagina.js"></script>
  <script src="./js/components.js"></script>i
  <script src="./js/navbar.js"></script>
  <script src="./js/search.js"></script>
  <script src="./js/formataData.js"></script>

  <script>
    function aparecerCategoria(categoriaVisivel){
        if(categoriaVisivel){
            input_categoria.style.display = 'block'
        }else{
            input_categoria.style.display = 'none'

        }
    }

    function selecionarFeed(feedSelecionado){
        const btnSeguindo = document.getElementById('btnSeguindo')
        const btnCategoria = document.getElementById('btnCategoria')
        if(feedSelecionado == 'seguindo'){
            btnSeguindo.classList.add('buttonFeedClicado')
            btnCategoria.classList.remove('buttonFeedClicado')
        }else{
            btnSeguindo.classList.remove('buttonFeedClicado')
            btnCategoria.classList.add('buttonFeedClicado')
        }

    }

    setTimeout(function (){
        obterFeedSeguindo(sessionStorage.ID_USUARIO)
    }, 500)
  </script>
</html>